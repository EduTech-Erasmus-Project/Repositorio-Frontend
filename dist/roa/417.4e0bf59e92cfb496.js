"use strict";(self.webpackChunkmirage=self.webpackChunkmirage||[]).push([[417],{5417:(Q,m,c)=>{c.r(m),c.d(m,{RecommendedModule:()=>P});var s=c(6895),l=c(7935),d=c(5861),n=c(6738),g=c(865),u=c(8253),f=c(1155),v=c(4120),h=c(1572),_=c(2107),x=c(2466);function Z(e,i){if(1&e&&(n.TgZ(0,"div",10),n._UZ(1,"app-card",11),n.qZA()),2&e){const t=i.$implicit;n.xp6(1),n.Q6J("object",t)}}function b(e,i){if(1&e&&(n.ynx(0),n.YNc(1,Z,2,1,"div",9),n.BQk()),2&e){const t=n.oxw(3);n.xp6(1),n.Q6J("ngForOf",t.recommended)}}function O(e,i){1&e&&(n.TgZ(0,"p"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"recommended.recommendedMsj")))}function T(e,i){if(1&e&&(n.TgZ(0,"div",7)(1,"h5"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div",5),n.YNc(5,b,2,1,"ng-container",1),n.YNc(6,O,3,3,"ng-template",null,8,n.W1O),n.qZA()()),2&e){const t=n.MAs(7),o=n.oxw(2);n.xp6(2),n.Oqu(n.lcZ(3,3,"recommended.recommended")),n.xp6(3),n.Q6J("ngIf",(null==o.recommended?null:o.recommended.length)>0)("ngIfElse",t)}}function C(e,i){if(1&e&&(n.TgZ(0,"div",10),n._UZ(1,"app-card",11),n.qZA()),2&e){const t=i.$implicit;n.xp6(1),n.Q6J("object",t)}}function R(e,i){if(1&e&&(n.ynx(0),n.YNc(1,C,2,1,"div",9),n.BQk()),2&e){const t=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",t.populars)}}function A(e,i){1&e&&(n.TgZ(0,"p"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"recommended.popularsMsj")))}function S(e,i){if(1&e&&(n.ynx(0),n.YNc(1,T,8,5,"div",3),n.TgZ(2,"div",4)(3,"h5"),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.TgZ(6,"div",5),n.YNc(7,R,2,1,"ng-container",1),n.YNc(8,A,3,3,"ng-template",null,6,n.W1O),n.qZA()(),n.BQk()),2&e){const t=n.MAs(9),o=n.oxw();n.xp6(1),n.Q6J("ngIf",o.userRole),n.xp6(3),n.Oqu(n.lcZ(5,4,"object.labelPopulars")),n.xp6(3),n.Q6J("ngIf",(null==o.populars?null:o.populars.length)>0)("ngIfElse",t)}}const M=function(){return{width:"100px",height:"100px"}};function y(e,i){1&e&&(n.TgZ(0,"div",12),n._UZ(1,"p-progressSpinner",13),n.qZA()),2&e&&(n.xp6(1),n.Akn(n.DdM(2,M)))}const j=[{path:"",component:(()=>{class e{constructor(t,o,r,a){this.objectService=t,this.breadcrumbService=o,this.languageService=r,this.loginService=a,this.subscriptions=[],this.loading=!1,this.add_breadcrumb()}ngOnDestroy(){this.subscriptions.forEach(t=>{t.unsubscribe()})}ngOnInit(){this.loadData()}add_breadcrumb(){var t=this;return(0,d.Z)(function*(){t.breadcrumbService.setItems([{label:"ROA"},{label:yield t.languageService.translate.get("menu.recommended").toPromise(),routerLink:["/guide"]}])})()}loadData(){var t=this;return(0,d.Z)(function*(){if(t.loading=!0,t.userRole){let r=yield t.objectService.getRecommendedObjects().subscribe(a=>{t.recommended=a.map(p=>({...p.learning_object,rating:p.rating})),t.loading=!1});t.subscriptions.push(r)}let o=yield t.objectService.getPopulars().subscribe(r=>{t.populars=r.map(a=>({...a.learning_object,rating:a.rating})),t.loading=!1});t.subscriptions.push(o)})()}get userRole(){return this.loginService.validateRole("student")||this.loginService.validateRole("expert")||this.loginService.validateRole("teacher")}static#n=this.\u0275fac=function(o){return new(o||e)(n.Y36(g.N),n.Y36(u.p),n.Y36(f.T),n.Y36(v.r))};static#e=this.\u0275cmp=n.Xpm({type:e,selectors:[["app-recommended"]],decls:4,vars:2,consts:[[1,"main-content"],[4,"ngIf","ngIfElse"],["elseTemplate",""],["class","recomendedStudent",4,"ngIf"],[1,"popularsOa"],[1,"p-grid","card-content"],["popuTemplate",""],[1,"recomendedStudent"],["recomTemplate",""],["class","p-col-12 p-md-6 p-lg-2",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-6","p-lg-2"],[3,"object"],[1,"spinner"],["styleClass","custom-spinner","strokeWidth","4","fill","#EEEEEE","animationDuration",".5s"]],template:function(o,r){if(1&o&&(n.TgZ(0,"div",0),n.YNc(1,S,10,6,"ng-container",1),n.YNc(2,y,2,3,"ng-template",null,2,n.W1O),n.qZA()),2&o){const a=n.MAs(3);n.xp6(1),n.Q6J("ngIf",!r.loading)("ngIfElse",a)}},dependencies:[s.sg,s.O5,h.G,_.A,x.X$],styles:[".main-content[_ngcontent-%COMP%]{min-height:95vh}.main-content[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{width:100%}.main-content[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:25px 5px}h5[_ngcontent-%COMP%]{text-transform:uppercase}.popularsOa[_ngcontent-%COMP%]{margin-top:2em}"]})}return e})(),data:{breadcrumb:null}}];let Y=(()=>{class e{static#n=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=n.oAB({type:e});static#t=this.\u0275inj=n.cJS({imports:[l.Bz.forChild(j),l.Bz]})}return e})();var I=c(380),E=c(3807);let P=(()=>{class e{static#n=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=n.oAB({type:e});static#t=this.\u0275inj=n.cJS({imports:[s.ez,Y,I.m,E.K]})}return e})()}}]);