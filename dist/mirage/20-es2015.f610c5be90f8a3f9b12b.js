(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"z/3Y":function(e,t,i){"use strict";i.r(t),i.d(t,"RecoverPasswordModule",function(){return P});var a=i("ofXK"),n=i("tyNb"),r=i("mrSG"),s=i("3Pt+"),o=i("fXoL"),l=i("tk/3"),c=i("EFyh"),b=i("7zfz"),m=i("kyOO"),d=i("57Ks"),u=i("Gxio"),g=i("7kUa"),h=i("jIHw"),f=i("Q4Mo"),p=i("sYmb");function v(e,t){1&e&&(o.Ob(0,"small",20),o.Gc(1),o.Zb(2,"translate"),o.Nb()),2&e&&(o.xb(1),o.Ic("*",o.ac(2,1,"validation.obligatoryCamp"),"*"))}function O(e,t){1&e&&(o.Ob(0,"small",21),o.Gc(1),o.Zb(2,"translate"),o.Nb()),2&e&&(o.xb(1),o.Ic("*",o.ac(2,1,"validation.errorEmail"),"*"))}function y(e,t){if(1&e&&(o.Ob(0,"div"),o.Ec(1,v,3,3,"small",18),o.Ec(2,O,3,3,"small",19),o.Nb()),2&e){const e=o.Yb(2);o.xb(1),o.fc("ngIf",e.email1.errors.required),o.xb(1),o.fc("ngIf",e.email1.errors.pattern)}}function x(e,t){1&e&&(o.Ob(0,"small",22),o.Gc(1),o.Zb(2,"translate"),o.Nb()),2&e&&(o.xb(1),o.Ic("*",o.ac(2,1,"validation.emailValid"),"*"))}const I=function(e){return{"ng-dirty ng-invalid":e}};function w(e,t){if(1&e){const e=o.Pb();o.Ob(0,"div",8),o.Ob(1,"form",9),o.Vb("ngSubmit",function(){return o.uc(e),o.Yb().sentEmail()}),o.Ob(2,"div",10),o.Ob(3,"p",11),o.Gc(4),o.Zb(5,"translate"),o.Nb(),o.Ob(6,"div",12),o.Jb(7,"input",13),o.Zb(8,"translate"),o.Ec(9,y,3,2,"div",14),o.Ec(10,x,3,3,"small",15),o.Nb(),o.Nb(),o.Ob(11,"div",16),o.Jb(12,"button",17),o.Zb(13,"translate"),o.Nb(),o.Nb(),o.Nb()}if(2&e){const e=o.Yb();o.xb(1),o.fc("formGroup",e.angForm),o.xb(3),o.Hc(o.ac(5,7,"login.resetDescription")),o.xb(3),o.fc("ngClass",o.jc(13,I,e.email1.invalid&&(e.email1.dirty||e.email1.touched)||e.emailCheck))("placeholder",o.ac(8,9,"login.placeholderEmail")),o.xb(2),o.fc("ngIf",e.email1.invalid&&(e.email1.dirty||e.email1.touched)),o.xb(1),o.fc("ngIf",e.emailCheck),o.xb(2),o.gc("label",o.ac(13,11,"login.sentResEmail"))}}const N=function(){return["/login"]};function S(e,t){1&e&&(o.Ob(0,"div",23),o.Ob(1,"div",10),o.Ob(2,"p",24),o.Gc(3),o.Zb(4,"translate"),o.Nb(),o.Ob(5,"h6",11),o.Gc(6),o.Zb(7,"translate"),o.Nb(),o.Jb(8,"a",25),o.Zb(9,"translate"),o.Ob(10,"p",26),o.Gc(11),o.Zb(12,"translate"),o.Nb(),o.Nb(),o.Nb()),2&e&&(o.xb(3),o.Hc(o.ac(4,5,"login.resetEmailStudentDes")),o.xb(3),o.Hc(o.ac(7,7,"login.resetEmailStudentExample")),o.xb(2),o.fc("label",o.ac(9,9,"menu.login"))("routerLink",o.ic(13,N)),o.xb(3),o.Hc(o.ac(12,11,"login.resetEmailStudentAlert")))}const k=[{path:"",component:(()=>{class e{constructor(e,t,i,a,n,r,s){this.fb=e,this.http=t,this.loginService=i,this.messageService=a,this.router=n,this.languageService=r,this.breadcrumbService=s,this.dark=!1,this.patternV="^([a-zA-Z0-9_' - '.]+)@([a-zA-Z0-9_' - '.]+).([a-zA-Z]{2,5})$",this.emailCheck=!1,this.is_student=!1,this.createForm(),this.add_breadcrumb()}ngOnInit(){}createForm(){this.angForm=this.fb.group({email:[this.email,[s.r.required,s.r.pattern(this.patternV)]]})}add_breadcrumb(){return Object(r.a)(this,void 0,void 0,function*(){this.breadcrumbService.setItems([{label:"ROA"},{label:yield this.languageService.translate.get("menu.resetPassword").toPromise(),routerLink:["/restart-password"]}])})}sentEmail(){return Object(r.a)(this,void 0,void 0,function*(){this.email=this.angForm.get("email").value,this.angForm.valid?this.loginService.resetPass(this.email).subscribe(e=>Object(r.a)(this,void 0,void 0,function*(){if("We have send you a link to reset your password"==e.message){let e=yield this.languageService.translate.get("register.recoverSentEmail").toPromise();this.showSuccess(e),this.emailCheck=!1,this.angForm.reset(),this.router.navigateByUrl("/emailMessage")}else if(201==e.status){this.is_student=!0;let e=yield this.languageService.translate.get("login.recoverPasswordM").toPromise();this.showSuccess(e),this.angForm.reset(),this.emailCheck=!1}}),e=>Object(r.a)(this,void 0,void 0,function*(){let e=yield this.languageService.translate.get("login.recoverErrorMail").toPromise();this.showError(e),this.emailCheck=!0})):this.markTouchForm()})}showError(e){this.messageService.add({severity:"error",summary:"Error",detail:e})}showInfo(e){this.messageService.add({severity:"info",summary:"Info",detail:e})}showSuccess(e){this.messageService.add({severity:"success",summary:"Success",detail:e})}markTouchForm(){Object.values(this.angForm.controls).forEach(e=>{e.markAsTouched()})}get email1(){return this.angForm.get("email")}}return e.\u0275fac=function(t){return new(t||e)(o.Ib(s.b),o.Ib(l.b),o.Ib(c.a),o.Ib(b.h),o.Ib(n.d),o.Ib(m.a),o.Ib(d.a))},e.\u0275cmp=o.Cb({type:e,selectors:[["app-recover-password"]],decls:13,vars:8,consts:[[1,"login-body","layout-light"],[1,"login-content","animate__animated","animate__fadeIn"],[1,"login-panel"],[1,"login-panel-content"],[1,"logo"],["loading","lazy","src","assets/img/image2vector.svg",3,"alt"],["class","form-reset-container",4,"ngIf"],["class","form-reset-student",4,"ngIf"],[1,"form-reset-container"],["autocomplete","off","id","loginForm",3,"formGroup","ngSubmit"],["tabindex","0",1,"forms"],["tabindex","0"],[1,"p-col-12","p-md-12"],["id","email","type","text","formControlName","email","aria-describedby","email1e email2e passwordOld","pInputText","",3,"ngClass","placeholder"],[4,"ngIf"],["id","passwordOld ","class","p-error",4,"ngIf"],[1,"forms"],["pButton","","type","submit",1,"p-button",3,"label"],["id","email1e","class","p-error",4,"ngIf"],["id","email2e","class","p-error",4,"ngIf"],["id","email1e",1,"p-error"],["id","email2e",1,"p-error"],["id","passwordOld ",1,"p-error"],[1,"form-reset-student"],["tabindex","0",2,"text-align","justify"],["pButton","","pRipple","","type","button","routerLinkActive","p-menuitem-link-active",1,"p-button-text",3,"label","routerLink"],["tabindex","0",2,"text-align","justify","font-size","x-small"]],template:function(e,t){1&e&&(o.Ob(0,"div",0),o.Ob(1,"div",1),o.Ob(2,"div",2),o.Ob(3,"div",3),o.Ob(4,"div",4),o.Jb(5,"img",5),o.Zb(6,"translate"),o.Nb(),o.Ob(7,"h3"),o.Gc(8),o.Zb(9,"translate"),o.Nb(),o.Jb(10,"p-toast"),o.Ec(11,w,14,15,"div",6),o.Ec(12,S,13,14,"div",7),o.Nb(),o.Nb(),o.Nb(),o.Nb()),2&e&&(o.xb(5),o.fc("alt",o.ac(6,4,"menu.altLogo")),o.xb(3),o.Hc(o.ac(9,6,"login.resetPass")),o.xb(3),o.fc("ngIf",0==t.is_student),o.xb(1),o.fc("ngIf",1==t.is_student))},directives:[u.a,a.l,s.t,s.k,s.e,s.a,s.j,s.d,g.a,a.j,h.b,n.g,f.a,n.f],pipes:[p.c],styles:["#email[_ngcontent-%COMP%]{width:100%}.login-content[_ngcontent-%COMP%]{position:relative;height:70vh}.login-content[_ngcontent-%COMP%]   .desert[_ngcontent-%COMP%]{position:absolute;bottom:0}.login-content[_ngcontent-%COMP%]   .login-panel[_ngcontent-%COMP%]{height:100%}.p-button[_ngcontent-%COMP%]{width:100%}.p-button-text[_ngcontent-%COMP%]{color:#fff;background-color:#3b5b68}"]}),e})(),data:{breadcrumb:null}}];let E=(()=>{class e{}return e.\u0275mod=o.Gb({type:e}),e.\u0275inj=o.Fb({factory:function(t){return new(t||e)},imports:[[n.h.forChild(k)],n.h]}),e})();var C=i("PCNd");let P=(()=>{class e{}return e.\u0275mod=o.Gb({type:e}),e.\u0275inj=o.Fb({factory:function(t){return new(t||e)},imports:[[a.b,E,C.a,s.o]]}),e})()}}]);