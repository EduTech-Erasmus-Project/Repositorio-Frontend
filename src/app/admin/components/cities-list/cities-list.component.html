<div class="p-grid table-demo">
    <div class="p-col-12">
        <div class="card">
            <app-loading *ngIf="isLoading"></app-loading>
            <p-table *ngIf="!isLoading" #dt [value]="cities" dataKey="id" styleClass="p-datatable-customers"
                [rowHover]="true" [rows]="10" [paginator]="true" [filterDelay]="0"
                [globalFilterFields]="['first_name','last_name']">
                <ng-template pTemplate="caption">
                    <div class="p-d-flex p-flex-column p-flex-md-row p-jc-md-between table-header">
                        Listado de provincias
                        <span class="p-input-icon-left">
                            <i class="pi pi-search"></i>
                            <input pInputText type="text" (input)="dt.filterGlobal($event.target.value, 'contains')"
                                placeholder="Buscar" />

                            <button [routerLink]="[ '/admin/config/city/new' ]" pButton pRipple label="Nuevo"
                                class="p-button-success"></button>
                        </span>
                    </div>
                </ng-template>
                <ng-template pTemplate="header">
                    <tr>
                        <th style="width: 2rem">
                            <div class="p-d-flex p-jc-between p-ai-center">
                                #
                            </div>
                        </th>
                        <th>
                            <div class="p-d-flex p-jc-between p-ai-center">
                                Nombre
                            </div>
                        </th>
                        <th>
                            <div class="p-d-flex p-jc-between p-ai-center">
                                Provincia
                            </div>
                        </th>
                        <th>
                            <div class="p-d-flex p-jc-between p-ai-center">
                                Activo
                            </div>
                        </th>
                        <th></th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-city>
                    <tr class="p-selectable-row">
                        <td>
                            {{city.id}}
                        </td>
                        <td>
                            {{city.name}}
                        </td>
                        <td>
                            {{city.province?.name}}
                        </td>
                        <td>
                            {{city.is_active}}
                        </td>
                        <td>
                            <p-button [routerLink]="[ '/admin/config/city', city.id]"
                                icon="pi pi-pencil"></p-button>
                            <p-button (click)="onDelete(city.id)" icon="pi pi-trash" styleClass="p-button-danger mr-1"></p-button>
                        </td>
                    </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                    <tr>
                        <td colspan="8">{{'admin.emptyTeachExpert' | translate }}</td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>