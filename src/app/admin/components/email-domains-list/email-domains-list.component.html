<p-toast></p-toast>
<div class="p-grid table-demo">
    <div class="p-col-12">
        <div class="card">
        <label for="">Filtro de busqueda de dominios</label>    
        </div>
            </div>
    <div class="p-col-6">
        <div class="card">
            <label for="">Seleccione un tipo de dominio</label>
            <hr>
            <p-radioButton name="groupname" value="profesor" label="Dominios Profesor" (onClick)="loadData('profesor')"
                [(ngModel)]="selectedValue"></p-radioButton>

            <p-radioButton name="groupname" value="estudiante" label="Dominios Estudiante"
                (onClick)="loadData('estudiante')" [(ngModel)]="selectedValue"></p-radioButton>

            <p-radioButton name="groupname" value="experto" label="Dominios Experto" (onClick)="loadData('experto')"
                [(ngModel)]="selectedValue"></p-radioButton>
        </div>
    </div>
    <div class="p-col-6">
        <div class="card">
            <label for="">Seleccione un de opcion</label>
            <hr>
            <p-radioButton name="groupname" value="TODOS" label="Todos" (onClick)="loadData(selectedValue)"
                [(ngModel)]="opntionValueSelected"></p-radioButton>

            <p-radioButton name="groupname" value="SOLO" label="Solo" (onClick)="loadData(selectedValue)"
                [(ngModel)]="opntionValueSelected"></p-radioButton>

            <p-radioButton name="groupname" value="EXCEPTO" label="Excepto" (onClick)="loadData(selectedValue)"
                [(ngModel)]="opntionValueSelected"></p-radioButton>
        </div>
    </div>

    <div class="p-col-6">
            <div class="card p-field">
                <label for="domain">Desea modificar la relación de privacidad de dominios en esta sección ({{selectedValue}}) *</label>
                <hr>
                <div class="p-col-6">
                    <p-dropdown [options]="optionsResgister" [(ngModel)]="type_option_register_name"
                        (onChange)="changeNameOption()" optionLabel="type_option" optionValue="id"></p-dropdown>
                </div>

                <div class="card p-field p-lg-4 p-md-4 p-sm-4" *ngIf="typeReference_aux_boolean">
                    <p-button label="Guardar selección" icon="pi pi-save"
                        (click)="updateRelationTypeUserOption()"></p-button>
                </div>
                <div class="card p-field p-lg-4 p-md-4 p-sm-4" *ngIf="!typeReference_aux_boolean">
                    <p-button label="Elija una nueva opción" icon="pi pi-pencil" [disabled]="true"></p-button>
                </div>
            </div>
        
    </div>
    <div class="p-col-12">
        <div class="card">
            <app-loading *ngIf="isLoading"></app-loading>
            <p-table *ngIf="!isLoading" #dt [value]="domains" dataKey="id" styleClass="p-datatable-customers"
                [rowHover]="true" [rows]="10" [paginator]="true" [filterDelay]="0"
                [globalFilterFields]="['first_name','last_name']">
                <ng-template pTemplate="caption">
                    <div class="p-d-flex p-flex-column p-flex-md-row p-jc-md-between table-header">
                        Lista de correos electrónicos para el registro de profesores
                        <span class="p-input-icon-left">
                            <i class="pi pi-search"></i>
                            <input pInputText type="text" (input)="dt.filterGlobal($event.target.value, 'contains')"
                                placeholder="Buscar" />

                            <button (click)="sendParamsCreateEmailDomain()" pButton pRipple label="Nuevo"
                                class="p-button-success"></button>
                        </span>
                    </div>
                </ng-template>
                <ng-template pTemplate="header">
                    <tr>
                        <th style="width: 2rem">
                            <div class="p-d-flex p-jc-between p-ai-center">
                                #
                            </div>
                        </th>
                        <th>
                            <div class="p-d-flex p-jc-between p-ai-center">
                                Dominio
                            </div>
                        </th>
                        <th>
                            <div class="p-d-flex p-jc-between p-ai-center">
                                Tipo
                            </div>
                        </th>
                        <th>
                            <div class="p-d-flex p-jc-between p-ai-center">
                                Activo
                            </div>
                        </th>
                        <th></th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-domain>
                    <tr class="p-selectable-row">
                        <td>
                            {{domain?.id}}
                        </td>
                        <td>
                            {{domain?.domain}}
                        </td>
                        <td>
                            {{domain?.type_option}}
                        </td>
                        <td>
                            {{domain?.is_active}}
                        </td>
                        <td>
                            <p-button (click)="sendParamsEditEmailDomain(domain.id)" icon="pi pi-pencil"></p-button>
                            <p-button (click)="onDelete(domain.id)" icon="pi pi-trash"
                                styleClass="p-button-danger mr-1"></p-button>
                        </td>
                    </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                    <tr>
                        <td colspan="8">{{'admin.emptyTeachExpert' | translate }}</td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>