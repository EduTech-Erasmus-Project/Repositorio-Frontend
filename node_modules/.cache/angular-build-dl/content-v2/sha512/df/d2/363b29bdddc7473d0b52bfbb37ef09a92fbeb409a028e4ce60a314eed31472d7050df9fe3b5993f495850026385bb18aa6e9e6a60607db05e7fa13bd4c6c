(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{gaKG:function(e,i,t){"use strict";t.r(i),t.d(i,"LoadOaModule",function(){return K});var l=t("ofXK"),n=t("tyNb"),o=t("mrSG"),a=t("3Pt+");class r{constructor(){}static toObjectLearning(e){return JSON.parse(e)}static objectLearningToJson(e){return JSON.stringify(e)}toJsonLearningObject(e){var i,t,l,n,o,a,r,d,c,s,u,v,b,g,p,h,m,f,j,y,O,_,w,x,F,C,N,E,k,I,L,S,R,D,A,q,T,Z,M,P,$,U,V,J,Y,z,G,H,B,K,W,Q,X,ee,ie,te,le,ne,oe,ae,re,de,ce,se,ue,ve,be,ge,pe,he,me,fe,je,ye,Oe,_e,we,xe,Fe,Ce,Ne,Ee,ke,Ie,Le,Se,Re,De,Ae,qe,Te,Ze,Me,Pe,$e,Ue,Ve,Je,Ye,ze,Ge,He,Be,Ke,We,Qe,Xe,ei,ii,ti,li,ni,oi,ai,ri,di,ci,si,ui,vi,bi,gi,pi,hi,mi,fi,ji,yi,Oi,_i,wi,xi,Fi,Ci,Ni,Ei,ki,Ii,Li,Si,Ri,Di,Ai,qi,Ti,Zi,Mi,Pi,$i,Ui,Vi,Ji,Yi,zi,Gi,Hi,Bi,Ki,Wi,Qi,Xi,et,it,tt,lt,nt,ot,at,rt,dt,ct,st,ut,vt,bt,gt,pt;let ht,mt;console.log("property",e),(null===(i=null==e?void 0:e.general)||void 0===i?void 0:i.description)&&((null===(t=null==e?void 0:e.general)||void 0===t?void 0:t.description.length)>0?ht=null===(l=null==e?void 0:e.general)||void 0===l?void 0:l.description.map(e=>e.string["#text"]).join(", "):(null===(o=null===(n=null==e?void 0:e.general)||void 0===n?void 0:n.description)||void 0===o?void 0:o.hasOwnProperty("#text"))&&(ht=(null===(r=null===(a=null==e?void 0:e.general)||void 0===a?void 0:a.description)||void 0===r?void 0:r.string["#text"])||"")),(null===(c=null===(d=null==e?void 0:e.general)||void 0===d?void 0:d.title)||void 0===c?void 0:c.hasOwnProperty("#text"))?mt=(null===(u=null===(s=null==e?void 0:e.general)||void 0===s?void 0:s.title)||void 0===u?void 0:u.string["#text"])||"":(null===(b=null===(v=null==e?void 0:e.general)||void 0===v?void 0:v.title)||void 0===b?void 0:b.langstring)&&(mt=null===(p=null===(g=null==e?void 0:e.general)||void 0===g?void 0:g.title)||void 0===p?void 0:p.langstring);try{pt={general_catalog:(null===(m=null===(h=null==e?void 0:e.general)||void 0===h?void 0:h.identifier)||void 0===m?void 0:m.catalog)||"",general_entry:(null===(j=null===(f=null==e?void 0:e.general)||void 0===f?void 0:f.identifier)||void 0===j?void 0:j.entry)||"",general_title:mt,general_language:(null===(y=null==e?void 0:e.general)||void 0===y?void 0:y.language)||"",general_description:ht,general_keyword:null==this?void 0:this.getStringData(null===(_=null===(O=null==e?void 0:e.general)||void 0===O?void 0:O.keyword)||void 0===_?void 0:_.string),general_coverage:(null===(x=null===(w=null==e?void 0:e.general)||void 0===w?void 0:w.coverage)||void 0===x?void 0:x.string)||"",general_structure:(null===(C=null===(F=null==e?void 0:e.general)||void 0===F?void 0:F.structure)||void 0===C?void 0:C.value)||"",general_aggregation_Level:(null===(E=null===(N=null==e?void 0:e.general)||void 0===N?void 0:N.aggregationLevel)||void 0===E?void 0:E.value)||"",life_cycle_version:(null===(I=null===(k=null==e?void 0:e.lifeCycle)||void 0===k?void 0:k.version)||void 0===I?void 0:I.string["@language"])||"",life_cycle_status:(null===(S=null===(L=null==e?void 0:e.lifeCycle)||void 0===L?void 0:L.status)||void 0===S?void 0:S.value)||"",life_cycle_role:(null===(R=null==e?void 0:e.lifeCycle)||void 0===R?void 0:R.contribute)?null===(q=null===(A=null===(D=null==e?void 0:e.lifeCycle)||void 0===D?void 0:D.contribute[0])||void 0===A?void 0:A.role)||void 0===q?void 0:q.value:"",life_cycle_entity:(null===(T=null==e?void 0:e.lifeCycle)||void 0===T?void 0:T.contribute)?null===(M=null===(Z=null==e?void 0:e.lifeCycle)||void 0===Z?void 0:Z.contribute[0])||void 0===M?void 0:M.entity:"",life_cycle_dateTime:(null===(P=null==e?void 0:e.lifeCycle)||void 0===P?void 0:P.contribute)?null===(V=null===(U=null===($=null==e?void 0:e.lifeCycle)||void 0===$?void 0:$.contribute[0])||void 0===U?void 0:U.date)||void 0===V?void 0:V.dateTime:"",life_cycle_description:(null===(J=null==e?void 0:e.lifeCycle)||void 0===J?void 0:J.contribute)?null===(H=null===(G=null===(z=null===(Y=null==e?void 0:e.lifeCycle)||void 0===Y?void 0:Y.contribute[0])||void 0===z?void 0:z.date)||void 0===G?void 0:G.description)||void 0===H?void 0:H.string:"",meta_metadata_catalog:(null===(K=null===(B=null==e?void 0:e.metaMetadata)||void 0===B?void 0:B.identifier)||void 0===K?void 0:K.catalog)||"",meta_metadata_entry:(null===(Q=null===(W=null==e?void 0:e.metaMetadata)||void 0===W?void 0:W.identifier)||void 0===Q?void 0:Q.entry)||"",meta_metadata_role:(null===(ie=null===(ee=null===(X=null==e?void 0:e.metaMetadata)||void 0===X?void 0:X.contribute)||void 0===ee?void 0:ee.role)||void 0===ie?void 0:ie.value)||"",meta_metadata_entity:(null===(le=null===(te=null==e?void 0:e.metaMetadata)||void 0===te?void 0:te.contribute)||void 0===le?void 0:le.entity)||"",meta_metadata_dateTime:(null===(ae=null===(oe=null===(ne=null==e?void 0:e.metaMetadata)||void 0===ne?void 0:ne.contribute)||void 0===oe?void 0:oe.date)||void 0===ae?void 0:ae.dateTime)||"",meta_metadata_description:(null===(se=null===(ce=null===(de=null===(re=null==e?void 0:e.metaMetadata)||void 0===re?void 0:re.contribute)||void 0===de?void 0:de.date)||void 0===ce?void 0:ce.description)||void 0===se?void 0:se.string)||"",technical_format:(null===(ue=null==e?void 0:e.technical)||void 0===ue?void 0:ue.format)||"",technical_size:parseInt(null===(ve=null==e?void 0:e.technical)||void 0===ve?void 0:ve.size)||0,technical_location:(null===(be=null==e?void 0:e.technical)||void 0===be?void 0:be.location)||"",technical_requirement_type:(null===(me=null===(he=null===(pe=null===(ge=null==e?void 0:e.technical)||void 0===ge?void 0:ge.requirement)||void 0===pe?void 0:pe.orComposite)||void 0===he?void 0:he.type)||void 0===me?void 0:me.value)||"",technical_requirement_name:(null===(Oe=null===(ye=null===(je=null===(fe=null==e?void 0:e.technical)||void 0===fe?void 0:fe.requirement)||void 0===je?void 0:je.orComposite)||void 0===ye?void 0:ye.name)||void 0===Oe?void 0:Oe.value)||"",technical_requirement_minimumVersion:(null===(xe=null===(we=null===(_e=null==e?void 0:e.technical)||void 0===_e?void 0:_e.requirement)||void 0===we?void 0:we.orComposite)||void 0===xe?void 0:xe.minimumVersion)||"",technical_installationRremarks:(null===(Ce=null===(Fe=null==e?void 0:e.technical)||void 0===Fe?void 0:Fe.installationRemarks)||void 0===Ce?void 0:Ce.string["#text"])||"",technical_otherPlatformRequirements:(null===(Ee=null===(Ne=null==e?void 0:e.technical)||void 0===Ne?void 0:Ne.otherPlatformRequirements)||void 0===Ee?void 0:Ee.string["#text"])||"",technical_dateTime:(null===(Le=null===(Ie=null===(ke=null==e?void 0:e.technical)||void 0===ke?void 0:ke.contribute)||void 0===Ie?void 0:Ie.date)||void 0===Le?void 0:Le.dateTime)||"",technical_description:(null===(Ae=null===(De=null===(Re=null===(Se=null==e?void 0:e.technical)||void 0===Se?void 0:Se.contribute)||void 0===Re?void 0:Re.date)||void 0===De?void 0:De.description)||void 0===Ae?void 0:Ae.string)||"",educational_interactivityType:(null===(Te=null===(qe=null==e?void 0:e.educational)||void 0===qe?void 0:qe.interactivityType)||void 0===Te?void 0:Te.value)||"",educational_learningResourceType:(null===(Me=null===(Ze=null==e?void 0:e.educational)||void 0===Ze?void 0:Ze.learningResourceType)||void 0===Me?void 0:Me.value)||"",educational_interactivityLevel:(null===($e=null===(Pe=null==e?void 0:e.educational)||void 0===Pe?void 0:Pe.interactivityLevel)||void 0===$e?void 0:$e.value)||"",educational_semanticDensity:(null===(Ve=null===(Ue=null==e?void 0:e.educational)||void 0===Ue?void 0:Ue.semanticDensity)||void 0===Ve?void 0:Ve.value)||"",educational_intendedEndUserRole:(null===(Ye=null===(Je=null==e?void 0:e.educational)||void 0===Je?void 0:Je.intendedEndUserRole)||void 0===Ye?void 0:Ye.value)||"",educational_context:(null===(Ge=null===(ze=null==e?void 0:e.educational)||void 0===ze?void 0:ze.context)||void 0===Ge?void 0:Ge.value)||"",educational_typicalAgeRange:(null===(He=null==e?void 0:e.educational)||void 0===He?void 0:He.typicalAgeRange)?null===(Be=e.educational.typicalAgeRange[0])||void 0===Be?void 0:Be.string["#text"]:"",educational_difficulty:(null===(We=null===(Ke=null==e?void 0:e.educational)||void 0===Ke?void 0:Ke.difficulty)||void 0===We?void 0:We.value)||"",educational_typicalLearningTime_dateTime:(null===(Xe=null===(Qe=null==e?void 0:e.educational)||void 0===Qe?void 0:Qe.typicalLearningTime)||void 0===Xe?void 0:Xe.duration)||"",educational_typicalLearningTime_description:(null===(ti=null===(ii=null===(ei=null==e?void 0:e.educational)||void 0===ei?void 0:ei.typicalLearningTime)||void 0===ii?void 0:ii.description)||void 0===ti?void 0:ti.string["#text"])||"",educational_description:(null===(ni=null===(li=null==e?void 0:e.educational)||void 0===li?void 0:li.description)||void 0===ni?void 0:ni.string)||"",educational_language:(null===(oi=null==e?void 0:e.educational)||void 0===oi?void 0:oi.language)||"",educational_procces_cognitve:(null===(ai=null==e?void 0:e.educational)||void 0===ai?void 0:ai.educational_procces_cognitve)||"",rights_cost:(null===(di=null===(ri=null==e?void 0:e.rights)||void 0===ri?void 0:ri.cost)||void 0===di?void 0:di.value)||"",rights_copyrightAndOtherRestrictions:(null===(si=null===(ci=null==e?void 0:e.rights)||void 0===ci?void 0:ci.copyrightAndOtherRestrictions)||void 0===si?void 0:si.value)||"",rights_description:(null===(vi=null===(ui=null==e?void 0:e.rights)||void 0===ui?void 0:ui.description)||void 0===vi?void 0:vi.string)||"",relation_kind:(null===(gi=null===(bi=null==e?void 0:e.relation)||void 0===bi?void 0:bi.kind)||void 0===gi?void 0:gi.value)||"",relation_catalog:(null===(mi=null===(hi=null===(pi=null==e?void 0:e.relation)||void 0===pi?void 0:pi.resource)||void 0===hi?void 0:hi.identifier)||void 0===mi?void 0:mi.catalog)||"",relation_entry:(null===(yi=null===(ji=null===(fi=null==e?void 0:e.relation)||void 0===fi?void 0:fi.resource)||void 0===ji?void 0:ji.identifier)||void 0===yi?void 0:yi.entry)||"",relation_description:(null===(wi=null===(_i=null===(Oi=null==e?void 0:e.relation)||void 0===Oi?void 0:Oi.resource)||void 0===_i?void 0:_i.description)||void 0===wi?void 0:wi.string)||"",annotation_entity:(null===(xi=null==e?void 0:e.annotation)||void 0===xi?void 0:xi.entity)||"",annotation_date_dateTime:(null===(Ci=null===(Fi=null==e?void 0:e.annotation)||void 0===Fi?void 0:Fi.date)||void 0===Ci?void 0:Ci.dateTime)||"",annotation_date_description:(null===(ki=null===(Ei=null===(Ni=null==e?void 0:e.annotation)||void 0===Ni?void 0:Ni.date)||void 0===Ei?void 0:Ei.description)||void 0===ki?void 0:ki.string["#text"])||"",annotation_description:(null===(Li=null===(Ii=null==e?void 0:e.annotation)||void 0===Ii?void 0:Ii.description)||void 0===Li?void 0:Li.string["#text"])||"",annotation_modeaccess:(null===(Ri=null===(Si=null==e?void 0:e.annotation)||void 0===Si?void 0:Si.modeaccess)||void 0===Ri?void 0:Ri.value)||"",annotation_modeaccesssufficient:(null===(Ai=null===(Di=null==e?void 0:e.annotation)||void 0===Di?void 0:Di.modeaccesssufficient)||void 0===Ai?void 0:Ai.value)||"",annotation_rol:null===(Ti=null===(qi=null==e?void 0:e.annotation)||void 0===qi?void 0:qi.Rol)||void 0===Ti?void 0:Ti.value,classification_purpose:(null===(Mi=null===(Zi=null==e?void 0:e.classification)||void 0===Zi?void 0:Zi.purpose)||void 0===Mi?void 0:Mi.value)||"",classification_taxonPath_source:(null===(Pi=null==e?void 0:e.classification)||void 0===Pi?void 0:Pi.taxonPath)?null===(Vi=null===(Ui=null===($i=null==e?void 0:e.classification)||void 0===$i?void 0:$i.taxonPath[0])||void 0===Ui?void 0:Ui.source)||void 0===Vi?void 0:Vi.string["#text"]:"",classification_taxonPath_taxon:(null===(Ji=null==e?void 0:e.classification)||void 0===Ji?void 0:Ji.taxonPath)&&(null===(zi=null===(Yi=null==e?void 0:e.classification)||void 0===Yi?void 0:Yi.taxonPath[0])||void 0===zi?void 0:zi.taxon)?null===(Ki=null===(Bi=null===(Hi=null===(Gi=null==e?void 0:e.classification)||void 0===Gi?void 0:Gi.taxonPath[0])||void 0===Hi?void 0:Hi.taxon[0])||void 0===Bi?void 0:Bi.entry)||void 0===Ki?void 0:Ki.string["#text"]:"",classification_description:(null===(Qi=null===(Wi=null==e?void 0:e.classification)||void 0===Wi?void 0:Wi.description)||void 0===Qi?void 0:Qi.string["#text"])||"",classification_keyword:null==this?void 0:this.getStringData(null===(et=null===(Xi=null==e?void 0:e.classification)||void 0===Xi?void 0:Xi.keyword)||void 0===et?void 0:et.string),accesibility_summary:(null===(tt=null===(it=null==e?void 0:e.accesibility)||void 0===it?void 0:it.description)||void 0===tt?void 0:tt.string)||"",accesibility_features:null==this?void 0:this.getStringDataConcat(null===(ot=null===(nt=null===(lt=null==e?void 0:e.accesibility)||void 0===lt?void 0:lt.accessibilityfeatures)||void 0===nt?void 0:nt.resourcecontent)||void 0===ot?void 0:ot.br),accesibility_hazard:null==this?void 0:this.getStringDataConcat(null===(dt=null===(rt=null===(at=null==e?void 0:e.accesibility)||void 0===at?void 0:at.accessibilityhazard)||void 0===rt?void 0:rt.properties)||void 0===dt?void 0:dt.br),accesibility_control:null==this?void 0:this.getStringDataConcat(null===(ut=null===(st=null===(ct=null==e?void 0:e.accesibility)||void 0===ct?void 0:ct.accessibilitycontrol)||void 0===st?void 0:st.methods)||void 0===ut?void 0:ut.br),accesibility_api:null==this?void 0:this.getStringDataConcat(null===(gt=null===(bt=null===(vt=null==e?void 0:e.accesibility)||void 0===vt?void 0:vt.accessibilityAPI)||void 0===bt?void 0:bt.compatibleresource)||void 0===gt?void 0:gt.br)}}catch(ft){console.log("Error load oa",ft)}return pt}getStringData(e){let i="";try{null==e||e.forEach(e=>{i+=e["#text"]+", "})}catch(t){i=e["#text"]||""}return i}getStringDataConcat(e){let i="";try{i=e.join()}catch(t){}return i}}var d=t("fXoL"),c=t("t3rE"),s=t("rj1t"),u=t("l3hs"),v=t("7zfz"),b=t("kyOO"),g=t("Gxio"),p=t("vKg+"),h=t("NCSE"),m=t("jIHw"),f=t("/RsI"),j=t("7kUa"),y=t("zFJ7"),O=t("arFO"),_=t("+la4"),w=t("LuMj"),x=t("+glU"),F=t("sYmb");const C=function(){return{width:"100px",height:"100px"}};function N(e,i){1&e&&(d.Mb(0),d.Ob(1,"div",2),d.Jb(2,"p-progressSpinner",3),d.Nb(),d.Lb()),2&e&&(d.xb(2),d.Bc(d.ic(2,C)))}const E=function(){return{margin:"0 5px"}};function k(e,i){if(1&e){const e=d.Pb();d.Mb(0),d.Ob(1,"p"),d.Fc(2),d.Nb(),d.Ob(3,"p-button",8),d.Vb("click",function(){return d.uc(e),d.Yb(3).navigate()}),d.Zb(4,"translate"),d.Nb(),d.Ob(5,"p-button",8),d.Vb("click",function(){return d.uc(e),d.Yb(3).showBasicDialog2()}),d.Zb(6,"translate"),d.Nb(),d.Lb()}if(2&e){const e=d.Yb(3);d.xb(2),d.Ic("",e.file.name," - ",e.file.size,""),d.xb(1),d.fc("label",d.ac(4,6,"newObject.form.btnPreview")),d.xb(2),d.Bc(d.ic(10,E)),d.fc("label",d.ac(6,8,"newObject.form.btnShowMetadata"))}}function I(e,i){if(1&e&&d.Dc(0,k,7,11,"ng-container",7),2&e){const e=d.Yb(2);d.fc("ngIf",e.file)}}function L(e,i){if(1&e&&d.Jb(0,"app-metadata",56),2&e){const e=d.Yb(3);d.fc("learningobjectdetail",e.object)}}function S(e,i){if(1&e){const e=d.Pb();d.Ob(0,"p-button",57),d.Vb("click",function(){return d.uc(e),d.Yb(3).displayWindow=!1}),d.Nb()}}function R(e,i){1&e&&(d.Ob(0,"small",58),d.Fc(1),d.Zb(2,"translate"),d.Nb()),2&e&&(d.xb(1),d.Gc(d.ac(2,1,"newObject.errors.title")))}function D(e,i){1&e&&(d.Ob(0,"small",59),d.Fc(1),d.Zb(2,"translate"),d.Nb()),2&e&&(d.xb(1),d.Gc(d.ac(2,1,"newObject.errors.description")))}function A(e,i){1&e&&(d.Ob(0,"small",60),d.Fc(1),d.Zb(2,"translate"),d.Nb()),2&e&&(d.xb(1),d.Hc("",d.ac(2,1,"newObject.errors.keywords")," "))}function q(e,i){1&e&&(d.Ob(0,"small",61),d.Fc(1),d.Zb(2,"translate"),d.Nb()),2&e&&(d.xb(1),d.Gc(d.ac(2,1,"newObject.errors.educationLevel")))}function T(e,i){1&e&&(d.Ob(0,"small",62),d.Fc(1),d.Zb(2,"translate"),d.Nb()),2&e&&(d.xb(1),d.Gc(d.ac(2,1,"newObject.errors.language")))}function Z(e,i){1&e&&(d.Ob(0,"small",63),d.Fc(1),d.Zb(2,"translate"),d.Nb()),2&e&&(d.xb(1),d.Gc(d.ac(2,1,"newObject.errors.knowledgeArea")))}function M(e,i){1&e&&(d.Ob(0,"small",64),d.Fc(1),d.Zb(2,"translate"),d.Nb()),2&e&&(d.xb(1),d.Gc(d.ac(2,1,"newObject.errors.license")))}function P(e,i){1&e&&(d.Ob(0,"small",65),d.Fc(1),d.Zb(2,"translate"),d.Nb()),2&e&&(d.xb(1),d.Gc(d.ac(2,1,"newObject.errors.imgHelp")))}const $=function(){return{width:"50vw"}},U=function(e){return{"ng-dirty":e}},V=function(e){return{"ng-invalid ng-dirty":e}};function J(e,i){if(1&e){const e=d.Pb();d.Mb(0),d.Ob(1,"p-dialog",9),d.Vb("visibleChange",function(i){return d.uc(e),d.Yb(2).displayWindow=i}),d.Dc(2,L,1,1,"app-metadata",10),d.Dc(3,S,1,0,"ng-template",11),d.Nb(),d.Ob(4,"form",12),d.Vb("ngSubmit",function(){return d.uc(e),d.Yb(2).onSubmit()}),d.Ob(5,"div",13),d.Ob(6,"label",14),d.Fc(7),d.Zb(8,"translate"),d.Nb(),d.Jb(9,"input",15),d.Zb(10,"translate"),d.Dc(11,R,3,3,"small",16),d.Nb(),d.Ob(12,"div",13),d.Ob(13,"label",17),d.Fc(14),d.Zb(15,"translate"),d.Nb(),d.Jb(16,"textarea",18),d.Zb(17,"translate"),d.Dc(18,D,3,3,"small",19),d.Nb(),d.Ob(19,"div",13),d.Ob(20,"label",20),d.Fc(21),d.Zb(22,"translate"),d.Nb(),d.Jb(23,"input",21),d.Zb(24,"translate"),d.Dc(25,A,3,3,"small",22),d.Nb(),d.Ob(26,"div",23),d.Ob(27,"div",24),d.Ob(28,"div",25),d.Ob(29,"div",13),d.Ob(30,"label",26),d.Fc(31),d.Zb(32,"translate"),d.Nb(),d.Ob(33,"p-dropdown",27),d.Vb("onChange",function(i){return d.uc(e),d.Yb(2).selectLevel(i)}),d.Zb(34,"translate"),d.Nb(),d.Dc(35,q,3,3,"small",28),d.Nb(),d.Nb(),d.Nb(),d.Ob(36,"div",24),d.Ob(37,"div",25),d.Ob(38,"div",13),d.Ob(39,"label",29),d.Fc(40),d.Zb(41,"translate"),d.Nb(),d.Ob(42,"p-dropdown",30),d.Vb("onChange",function(i){return d.uc(e),d.Yb(2).selectLanguage(i)}),d.Zb(43,"translate"),d.Nb(),d.Dc(44,T,3,3,"small",31),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Ob(45,"div",23),d.Ob(46,"div",24),d.Ob(47,"div",25),d.Ob(48,"div",13),d.Ob(49,"label",32),d.Fc(50),d.Zb(51,"translate"),d.Nb(),d.Ob(52,"p-dropdown",33),d.Vb("onChange",function(i){return d.uc(e),d.Yb(2).selectKnowledgeArea(i)}),d.Zb(53,"translate"),d.Nb(),d.Dc(54,Z,3,3,"small",34),d.Nb(),d.Nb(),d.Nb(),d.Ob(55,"div",24),d.Ob(56,"div",25),d.Ob(57,"div",13),d.Ob(58,"label",35),d.Fc(59),d.Zb(60,"translate"),d.Nb(),d.Ob(61,"p-dropdown",36),d.Vb("onChange",function(i){return d.uc(e),d.Yb(2).selectLicense(i)}),d.Zb(62,"translate"),d.Nb(),d.Dc(63,M,3,3,"small",37),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Ob(64,"div",23),d.Ob(65,"div",24),d.Ob(66,"div",38),d.Ob(67,"div",39),d.Ob(68,"label",40),d.Fc(69),d.Zb(70,"translate"),d.Nb(),d.Jb(71,"p-slider",41),d.Nb(),d.Nb(),d.Nb(),d.Ob(72,"div",24),d.Ob(73,"div",25),d.Ob(74,"div",13),d.Ob(75,"label",42),d.Fc(76,"Objeto de aprendizaje adaptado*"),d.Nb(),d.Jb(77,"br"),d.Ob(78,"label",43),d.Fc(79,"Visita nuestra herramienta "),d.Ob(80,"a",44),d.Fc(81,"OER-ADAP"),d.Nb(),d.Fc(82," para la adaptaci\xf3n de objetos de aprendizaje.Tambi\xe9n visita nuestra herramienta "),d.Ob(83,"a",45),d.Fc(84,"LOMPAD-WEB"),d.Nb(),d.Fc(85," para el metaetiquetado para objetos de aprendizaje."),d.Nb(),d.Ob(86,"div",46),d.Ob(87,"div",47),d.Jb(88,"p-radioButton",48),d.Ob(89,"label",49),d.Fc(90),d.Zb(91,"translate"),d.Nb(),d.Nb(),d.Ob(92,"div",47),d.Jb(93,"p-radioButton",50),d.Ob(94,"label",51),d.Fc(95),d.Zb(96,"translate"),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Ob(97,"div",13),d.Ob(98,"label",52),d.Fc(99),d.Zb(100,"translate"),d.Nb(),d.Ob(101,"p-fileUpload",53),d.Vb("onSelect",function(i){return d.uc(e),d.Yb(2).onSelectImage(i)}),d.Zb(102,"translate"),d.Zb(103,"translate"),d.Zb(104,"translate"),d.Nb(),d.Dc(105,P,3,3,"small",54),d.Nb(),d.Jb(106,"p-button",55),d.Zb(107,"translate"),d.Nb(),d.Lb()}if(2&e){const e=d.Yb(2);d.xb(1),d.Bc(d.ic(104,$)),d.fc("header",e.object.general_title)("visible",e.displayWindow)("baseZIndex",1e4),d.xb(1),d.fc("ngIf",e.object),d.xb(2),d.fc("formGroup",e.objectForm),d.xb(3),d.Hc("",d.ac(8,60,"newObject.form.titleLabel"),"*"),d.xb(2),d.fc("ngClass",d.jc(105,U,e.getErrorFormRequired("title")))("placeholder",d.ac(10,62,"newObject.form.title")),d.xb(2),d.fc("ngIf",e.getErrorFormRequired("title")),d.xb(3),d.Hc("",d.ac(15,64,"newObject.form.descriptionLabel"),"*"),d.xb(2),d.fc("ngClass",d.jc(107,U,e.getErrorFormRequired("description")))("placeholder",d.ac(17,66,"newObject.form.description")),d.xb(2),d.fc("ngIf",e.getErrorFormRequired("description")),d.xb(3),d.Hc("",d.ac(22,68,"newObject.form.keywordsLabel"),"*"),d.xb(2),d.fc("ngClass",d.jc(109,V,e.getErrorFormRequired("keywords")))("placeholder",d.ac(24,70,"newObject.form.keywords")),d.xb(2),d.fc("ngIf",e.getErrorFormRequired("keywords")),d.xb(6),d.Hc("",d.ac(32,72,"newObject.form.educationLevelLabel"),"*"),d.xb(2),d.fc("ngClass",d.jc(111,V,e.getErrorFormRequired("education_levels")))("options",e.educationLevels)("placeholder",d.ac(34,74,"newObject.form.educationLevel"))("showClear",!0),d.xb(2),d.fc("ngIf",e.getErrorFormRequired("education_levels")),d.xb(5),d.Hc("",d.ac(41,76,"newObject.form.languageLabel"),"*"),d.xb(2),d.fc("ngClass",d.jc(113,V,e.getErrorFormRequired("language")))("options",e.language)("placeholder",d.ac(43,78,"newObject.form.language"))("showClear",!0),d.xb(2),d.fc("ngIf",e.getErrorFormRequired("language")),d.xb(6),d.Hc("",d.ac(51,80,"newObject.form.knowledgeAreaLabel"),"*"),d.xb(2),d.fc("ngClass",d.jc(115,V,e.getErrorFormRequired("knowledge_area")))("options",e.knowledgeArea)("placeholder",d.ac(53,82,"newObject.form.knowledgeArea"))("showClear",!0),d.xb(2),d.fc("ngIf",e.getErrorFormRequired("knowledge_area")),d.xb(5),d.Hc("",d.ac(60,84,"newObject.form.licenseLabel"),"*"),d.xb(2),d.fc("ngClass",d.jc(117,V,e.getErrorFormRequired("license")))("options",e.licenses)("placeholder",d.ac(62,86,"newObject.form.license"))("showClear",!0),d.xb(2),d.fc("ngIf",e.getErrorFormRequired("license")),d.xb(6),d.Ic("",d.ac(70,88,"newObject.form.ageLabel"),": ",(null==e.objectForm.controls.age?null:e.objectForm.controls.age.value[0])+" - "+(null==e.objectForm.controls.age?null:e.objectForm.controls.age.value[1]),""),d.xb(2),d.fc("min",5)("max",150)("range",!0),d.xb(17),d.fc("ngClass",d.jc(119,U,e.getErrorFormRequired("adaptations"))),d.xb(2),d.Gc(d.ac(91,90,"newObject.form.adaptationsYes")),d.xb(3),d.fc("ngClass",d.jc(121,U,e.getErrorFormRequired("adaptations"))),d.xb(2),d.Gc(d.ac(96,92,"newObject.form.adaptationsNo")),d.xb(4),d.Hc("",d.ac(100,94,"newObject.form.imgLabel"),"*"),d.xb(2),d.fc("chooseLabel",d.ac(102,96,"newObject.form.imgSelect"))("showUploadButton",!1)("cancelLabel",d.ac(103,98,"newObject.form.imgCancel"))("invalidFileTypeMessageDetail",d.ac(104,100,"newObject.errors.img"))("multiple",!1),d.xb(4),d.fc("ngIf",e.getErrorFormRequired("img")),d.xb(1),d.fc("label",d.ac(107,102,"newObject.form.btnSubmit"))}}function Y(e,i){1&e&&(d.Ob(0,"h4"),d.Fc(1),d.Zb(2,"translate"),d.Nb(),d.Ob(3,"label"),d.Fc(4,"Recuerda que los est\xe1ndares educativos de objetos de aprendizaje aceptados por el repositorio son IMS Y SCROM."),d.Nb()),2&e&&(d.xb(1),d.Gc(d.ac(2,1,"newObject.infoLoadFile")))}function z(e,i){if(1&e){const e=d.Pb();d.Ob(0,"p-fileUpload",4),d.Vb("onUpload",function(i){return d.uc(e),d.Yb().onUpload(i)})("onError",function(i){return d.uc(e),d.Yb().onError(i)}),d.Zb(1,"translate"),d.Zb(2,"translate"),d.Zb(3,"translate"),d.Zb(4,"translate"),d.Dc(5,I,1,1,"ng-template",5),d.Nb(),d.Dc(6,J,108,123,"ng-container",0),d.Dc(7,Y,5,3,"ng-template",null,6,d.Ec)}if(2&e){const e=d.tc(8),i=d.Yb();d.fc("url",i.baseUrl)("chooseLabel",d.ac(1,8,"newObject.form.imgSelect"))("cancelLabel",d.ac(2,10,"newObject.form.imgCancel"))("uploadLabel",d.ac(3,12,"newObject.form.fileUpload"))("invalidFileTypeMessageDetail",d.ac(4,14,"newObject.errors.img"))("multiple",!1),d.xb(6),d.fc("ngIf",i.object)("ngIfElse",e)}}const G=[{path:"",component:(()=>{class e{constructor(e,i,t,l,n,o){this.fb=e,this.learningObjectService=i,this.tokenService=t,this.searchService=l,this.messageService=n,this.languageService=o,this.subscriptions=[],this.loading=!1,this.messages={successFile:"",errorFile:"",successMetadata:"",errorMetadata:""},this.language=[{name:"Alem\xe1n",code:"de"},{name:"Espa\xf1ol",code:"es"},{name:"Franc\xe9s",code:"fr"},{name:"Holand\xe9s",code:"nl"},{name:"H\xfangaro",code:"hu"},{name:"Ingles",code:"en"},{name:"Italiano",code:"it"},{name:"Portugu\xe9s",code:"pt"},{name:"Ruso",code:"ru"},{name:"Otros",code:"Other"}]}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()})}ngOnInit(){this.baseUrl=this.learningObjectService.urlUpload;let e=this.tokenService.refreshToken().subscribe(e=>{});this.subscriptions.push(e),this.loadData(),this.translate=this.languageService.translate,this.translate.onLangChange.subscribe(e=>{this.messages=e.translations.newObject.messages})}loadData(){return Object(o.a)(this,void 0,void 0,function*(){let e=yield this.searchService.getPreferences().subscribe(e=>{this.preferencesData=e.map(e=>({name:e.description,code:e.id}))}),i=yield this.searchService.getLevelEducation().subscribe(e=>{this.educationLevels=e.values.map(e=>({name:e.name,code:e.id}))}),t=yield this.searchService.getInterestAreas().subscribe(e=>{this.knowledgeArea=e.values.map(e=>({name:e.name,code:e.id}))}),l=yield this.searchService.getLicenses().subscribe(e=>{this.licenses=e.values.map(e=>({name:e.name,code:e.id}))});this.subscriptions.push(e,i,t,l)})}loadForm(){var e,i,t;this.objectForm=this.fb.group({title:[(null===(e=this.object)||void 0===e?void 0:e.general_title)||null,[a.p.required]],description:[(null===(i=this.object)||void 0===i?void 0:i.general_description)||null,[a.p.required]],keywords:[(null===(t=this.object)||void 0===t?void 0:t.general_keyword)||null,[a.p.required]],adaptations:["yes",[a.p.required]],img:[null,[a.p.required]],language:[null,[a.p.required]],age:[this.getRageAge()||[5,100],[a.p.required,a.p.min(5),a.p.max(150)]],education_levels:[null,[a.p.required]],knowledge_area:[null,[a.p.required]],license:[null,[a.p.required]]})}getRageAge(){var e;if(!this.object.educational_typicalAgeRange)return[5,100];{let i=null===(e=this.object)||void 0===e?void 0:e.educational_typicalAgeRange.split("-");if(!((null==i?void 0:i.length)>2))return[5,100];i.map(e=>parseInt(e))}}onUpload(e){let i=e.originalEvent.body.metadata.lom;this.metaData=e.originalEvent.body,this.file=e.files[0],this.objectUrl=e.originalEvent.body.oa_file.url;let t=new r;this.object=t.toJsonLearningObject(i),this.messageService.add({severity:"success",summary:"Success",detail:"El archivo se ah subido con \xe9xito"}),this.loadForm()}onError(e){console.log("on error upload",e.error.error.message),this.messageService.add({severity:"error",summary:"Error",detail:e.error.error.message})}onSubmit(){return Object(o.a)(this,void 0,void 0,function*(){if(this.objectForm.valid){this.loading=!0,this.object.learning_object_file=this.metaData.oa_file.id,this.object.adaptation=this.objectForm.value.adaptations,this.object.general_title=this.objectForm.value.title,this.object.general_description=this.objectForm.value.description,this.object.general_keyword=this.objectForm.value.keywords,this.object.general_language=this.objectForm.value.language,this.object.educational_typicalAgeRange=`${this.objectForm.value.age[0]}-${this.objectForm.value.age[1]}`,this.object.education_levels=this.objectForm.value.education_levels,this.object.knowledge_area=this.objectForm.value.knowledge_area,this.object.license=this.objectForm.value.license,this.object.general_language=this.objectForm.value.language,this.object.avatar=this.objectForm.value.img;let e=yield this.learningObjectService.addMetadata(this.object).subscribe(e=>{this.messageService.add({severity:"success",summary:"Success",detail:"Tu archivo se ha enviado para revisi\xf3n"}),this.objectForm.reset(),this.object=null,this.metaData=null,this.file=null,this.objectUrl=null,this.loading=!1},e=>{this.messageService.add({severity:"error",summary:"Error",detail:"Se ha producido un error al guardar los datos, intente de nuevo"}),this.loading=!1});this.subscriptions.push(e)}else this.markTouchForm()})}markTouchForm(){Object.values(this.objectForm.controls).forEach(e=>{e.markAsTouched()})}onSelectImage(e){this.objectForm.patchValue({img:e.currentFiles[0]})}showBasicDialog2(){this.displayWindow=!0}navigate(){window.open(this.objectUrl,"_blank")}getErrorFormRequired(e){return this.objectForm.get(e).hasError("required")&&this.objectForm.get(e).touched}get errorErrorEmail(){var e;return(null===(e=this.objectForm.get("email").errors)||void 0===e?void 0:e.pattern)&&this.objectForm.get("email").touched}selectLevel(e){var i;this.objectForm.patchValue({education_levels:(null===(i=e.value)||void 0===i?void 0:i.code)||null})}selectKnowledgeArea(e){var i;this.objectForm.patchValue({knowledge_area:(null===(i=e.value)||void 0===i?void 0:i.code)||null})}selectLicense(e){var i;this.objectForm.patchValue({license:(null===(i=e.value)||void 0===i?void 0:i.code)||null})}selectLanguage(e){var i;this.objectForm.patchValue({language:(null===(i=e.value)||void 0===i?void 0:i.code)||null})}}return e.\u0275fac=function(i){return new(i||e)(d.Ib(a.b),d.Ib(c.a),d.Ib(s.a),d.Ib(u.a),d.Ib(v.h),d.Ib(b.a))},e.\u0275cmp=d.Cb({type:e,selectors:[["app-load-oa"]],decls:4,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadingTemplate",""],[1,"spinner","animate__animated","animate__fadeIn"],["styleClass","custom-spinner","strokeWidth","4","fill","#EEEEEE","animationDuration",".5s"],["name","file","accept",".zip,.rar",3,"url","chooseLabel","cancelLabel","uploadLabel","invalidFileTypeMessageDetail","multiple","onUpload","onError"],["pTemplate","content"],["dataTemplate",""],[4,"ngIf"],["icon","pi pi-external-link",3,"label","click"],[3,"header","visible","baseZIndex","visibleChange"],[3,"learningobjectdetail",4,"ngIf"],["pTemplate","footer"],[1,"animate__animated","animate__fadeIn",3,"formGroup","ngSubmit"],[1,"p-field","p-fluid"],["for","title"],["aria-describedby","title-help","pInputText","","type","text","formControlName","title","id","title",3,"ngClass","placeholder"],["id","title-help","class","p-error",4,"ngIf"],["for","description"],["rows","10","pInputTextarea","","formControlName","description","id","description","aria-describedby","description-help",3,"ngClass","placeholder"],["id","description-help","class","p-error",4,"ngIf"],["for","keywords"],["aria-describedby","keywords-help","pInputText","","type","text","formControlName","keywords","id","keywords",3,"ngClass","placeholder"],["id","keywords-help","class","p-error",4,"ngIf"],[1,"p-grid"],[1,"p-col-12","p-md-6","p-lg-6"],[1,"box","sidebar"],["for","level"],["id","language","fromControlName","education_levels","aria-describedby","level-help","optionLabel","name",3,"ngClass","options","placeholder","showClear","onChange"],["id","level-help","class","p-error",4,"ngIf"],["for","language"],["id","language","fromControlName","language","aria-describedby","language-help","optionLabel","name",3,"ngClass","options","placeholder","showClear","onChange"],["id","language-help","class","p-error",4,"ngIf"],["for","knowledgeArea"],["id","knowledgeArea","fromControlName","knowledge_area","aria-describedby","knowledge_area","optionLabel","name",3,"ngClass","options","placeholder","showClear","onChange"],["id","knowledgeArea-help","class","p-error",4,"ngIf"],["for","license"],["id","license","fromControlName","license","aria-describedby","license-help","optionLabel","name",3,"ngClass","options","placeholder","showClear","onChange"],["id","license-help","class","p-error",4,"ngIf"],[1,"box","content"],[1,"p-field","p-fluid","slider"],["for","Correo"],["formControlName","age",3,"min","max","range"],["for","adaptations"],["for",""],["href","https://oeradap.edutech-project.org/",2,"font-style","italic","text-decoration","underline"],["href","https://lompads.edutech-project.org/#/",2,"font-style","italic","text-decoration","underline"],[1,"radio-buttons"],[1,"p-field-radiobutton"],["aria-describedby","adaptations-help","name","adaptations","value","yes","formControlName","adaptations","inputId","yes",3,"ngClass"],["for","yes"],["aria-describedby","adaptations-help","name","adaptations","value","no","formControlName","adaptations","inputId","no",3,"ngClass"],["for","no"],["for","fileImage"],["id","fileImage","name","fileImage","accept","image/*","aria-describedby","img-help",3,"chooseLabel","showUploadButton","cancelLabel","invalidFileTypeMessageDetail","multiple","onSelect"],["id","img-help","class","p-error",4,"ngIf"],["type","submit",3,"label"],[3,"learningobjectdetail"],["icon","pi pi-check","label","Ok","styleClass","p-button-text",3,"click"],["id","title-help",1,"p-error"],["id","description-help",1,"p-error"],["id","keywords-help",1,"p-error"],["id","level-help",1,"p-error"],["id","language-help",1,"p-error"],["id","knowledgeArea-help",1,"p-error"],["id","license-help",1,"p-error"],["id","img-help",1,"p-error"]],template:function(e,i){if(1&e&&(d.Dc(0,N,3,3,"ng-container",0),d.Dc(1,z,9,16,"ng-template",null,1,d.Ec),d.Jb(3,"p-toast")),2&e){const e=d.tc(2);d.fc("ngIf",i.loading)("ngIfElse",e)}},directives:[l.l,g.a,p.a,h.a,v.j,m.a,f.a,a.q,a.l,a.f,a.a,j.a,a.k,a.e,l.j,y.a,O.a,_.a,w.a,x.a],pipes:[F.c],styles:["textarea[_ngcontent-%COMP%]{resize:vertical}.radio-buttons[_ngcontent-%COMP%]{display:flex}.radio-buttons[_ngcontent-%COMP%]   .p-field-radiobutton[_ngcontent-%COMP%]{margin-right:10px}[_nghost-%COMP%]     .p-slider{margin:10px 0}.spinner[_ngcontent-%COMP%]{width:100%;position:relative;transform:none;top:200px;left:0;display:flex;justify-content:center;align-items:center}"]}),e})(),data:{breadcrumb:null}}];let H=(()=>{class e{}return e.\u0275mod=d.Gb({type:e}),e.\u0275inj=d.Fb({factory:function(i){return new(i||e)},imports:[[n.h.forChild(G)],n.h]}),e})();var B=t("PCNd");let K=(()=>{class e{}return e.\u0275mod=d.Gb({type:e}),e.\u0275inj=d.Fb({factory:function(i){return new(i||e)},imports:[[l.b,H,B.a,a.n]]}),e})()},t3rE:function(e,i,t){"use strict";t.d(i,"a",function(){return s});var l=t("lJxs"),n=t("AytR"),o=t("uUT0"),a=t("fXoL"),r=t("tk/3"),d=t("n90K");const c=n.a.baseUrl;let s=(()=>{class e{constructor(e,i){this.http=e,this.storageService=i}getLearningObject(){return this.http.get(c+"/areas-de-conocimiento/").pipe(Object(l.a)(e=>e))}uploadObject(e){let i=new FormData;return i.append("file",e),this.http.post(c+"/learning-object-file/",i)}get urlUpload(){return c+"/learning-object-file/"}getObjectDetail(e){return this.http.get(`${c}/learning-object/${e}`)}getObjectDetailById(e){return this.http.get(`${c}/learning-object-metadata/${e}/`)}getComments(e){return this.http.get(`${c}/learning-objects/comments/${e}`)}addComent(e){return this.http.post(c+"/learning-object/create/commentary/",e)}addMetadata(e){let i=Object(o.serialize)(e);return this.http.post(c+"/learning-object-metadata/",i)}editMetadata(e){let i=Object(o.serialize)(e);return this.http.patch(`${c}/learning-object-metadata/${e.id}/`,i)}sendQualificationExpert(e){return this.http.post(c+"/learning-objects/register-evaluation-expert/",e)}sendQualificationExpertUpdate(e,i){return this.http.put(`${c}/learning-objects/register-evaluation-expert/${i}/`,e)}sendQualificationStudent(e){return this.http.post(c+"/learning-objects/student-evaluation/",e)}sendQualificationStudentUpdate(e,i){return this.http.put(`${c}/learning-objects/student-evaluation/${i}/`,e)}validateLike(e){return this.http.get(`${c}/learning-objects/liked/${e}`)}getRecommendedObjects(){return this.http.get(c+"/learning-objects/recommended/")}getResultsEvaluation(e){return this.http.get(`${c}/learning-objects/evaluations-result-expert/${e}`).pipe(Object(l.a)(e=>e))}interactionLike(e){return this.http.put(`${c}/object-learning/interaction/${e.id}/`,e)}interactionView(e){return this.http.post(c+"/object-learning/interaction/",e)}getObjectsTeacher(){return this.http.get(c+"/learning-objects/observation/")}deleteObjestTeacher(e){return this.http.delete(`${c}/learning-object-file-delete/${e}`)}getObjectsViewed(){return this.http.get(c+"/learning-objects/viewed/")}getObjectResultsEvaluation(e){return this.http.get(`${c}/learning-objects/evaluations-result-to-expert/${e}/`).pipe(Object(l.a)(e=>e))}getObjectResultsEvaluationStudent(e){return this.http.get(`${c}/learning-objects/student/result-to-student/${e}/`).pipe(Object(l.a)(e=>e))}getObjectResultsEvaluationAutomatic(e){return this.http.get(`${c}/learning-objects/evaluations-result-to-expert-automatic/${e}/`).pipe(Object(l.a)(e=>e))}getObjectResultsPublicEvaluationStudent(e){return this.http.get(`${c}/learning-objects/student/result-to-public-student/${e}/`).pipe(Object(l.a)(e=>e))}getPopulars(){return this.http.get(c+"/learning-objects/populars/").pipe(Object(l.a)(e=>e))}searchExpertNoRated(){return this.http.get(c+"/learning-objects/expert-collaborator/no-rated/").pipe(Object(l.a)(e=>e))}}return e.\u0275fac=function(i){return new(i||e)(a.Sb(r.b),a.Sb(d.a))},e.\u0275prov=a.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},uUT0:function(e,i){const t=e=>void 0===e,l=e=>Array.isArray(e),n=e=>e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.slice,o=(e,i,a,r)=>((i=i||{}).indices=!t(i.indices)&&i.indices,i.nullsAsUndefineds=!t(i.nullsAsUndefineds)&&i.nullsAsUndefineds,i.booleansAsIntegers=!t(i.booleansAsIntegers)&&i.booleansAsIntegers,i.allowEmptyArrays=!t(i.allowEmptyArrays)&&i.allowEmptyArrays,a=a||new FormData,t(e)||(null===e?i.nullsAsUndefineds||a.append(r,""):"boolean"==typeof e?a.append(r,i.booleansAsIntegers?e?1:0:e):l(e)?e.length?e.forEach((e,t)=>{o(e,i,a,r+"["+(i.indices?t:"")+"]")}):i.allowEmptyArrays&&a.append(r+"[]",""):e instanceof Date?a.append(r,e.toISOString()):!(e=>e===Object(e))(e)||(e=>n(e)&&"string"==typeof e.name&&("object"==typeof e.lastModifiedDate||"number"==typeof e.lastModified))(e)||n(e)?a.append(r,e):Object.keys(e).forEach(t=>{const n=e[t];if(l(n))for(;t.length>2&&t.lastIndexOf("[]")===t.length-2;)t=t.substring(0,t.length-2);o(n,i,a,r?r+"["+t+"]":t)})),a);e.exports={serialize:o}}}]);